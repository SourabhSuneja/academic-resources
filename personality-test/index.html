<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- Google tag -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-QF1MCK0B9Y"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-QF1MCK0B9Y');
</script> -->
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="description" content="Answer a few quick questions to gain insights into your strengths, traits, and ideal career paths.">
      <title>Personality Test & Career Guidance</title>
      <!-- Log page visit 
      <script type="module" src="https://sourabhsuneja.github.io/academic-resources/auth/page-visit-logger.js"></script> -->
      <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
      <style>
         * {
         box-sizing: border-box;
         max-height: 999999px;
         }
         body {
         font-family: 'Poppins', sans-serif;
         margin: 0;
         padding: 0;
         display: flex;
         justify-content: center;
         align-items: center;
         height: 100vh;
         background: linear-gradient(135deg, #74ebd5 0%, #9face6 100%);
         }
         .container {
         width: 90%;
         max-width: 600px;
         background: white;
         border-radius: 10px;
         box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
         overflow: hidden;
         position: relative;
         }
         .header {
         padding: 20px;
         text-align: center;
         background-color: #6a82fb;
         color: white;
         }
         .header h1 {
         margin: 0;
         }
         .header p {
         font-size: 1.2em;
         }
         .question {
         padding: 20px;
         font-size: 18px;
         }
         .options {
         display: flex;
         flex-direction: column;
         padding: 0 20px 20px;
         }
         .options label {
         margin-bottom: 10px;
         background-color: #f5f5f5;
         padding: 10px;
         border-radius: 5px;
         cursor: pointer;
         transition: background-color 0.3s;
         }
         .options input {
         display: none;
         }
         .options input:checked + label {
         background-color: #6a82fb;
         color: white;
         }
         .button {
         text-align: center;
         padding: 10px;
         }
         .button button {
         background-color: #6a82fb;
         color: white;
         border: none;
         padding: 10px 20px;
         border-radius: 5px;
         font-size: 16px;
         cursor: pointer;
         transition: background-color 0.3s;
         }
         .button button:hover {
         background-color: #574b90;
         }
         /* Overlay for loading animation */
         .overlay {
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background-color: rgba(0, 0, 0, 0.8);
         display: flex;
         justify-content: center;
         align-items: center;
         visibility: hidden;
         opacity: 0;
         transition: visibility 0s, opacity 0.3s;
         }
         .overlay.visible {
         visibility: visible;
         opacity: 1;
         }
         .overlay-text {
         font-size: 24px;
         color: white;
         animation: pulse 1.5s infinite;
         }
         @keyframes pulse {
         0% { opacity: 1; transform: scale(1); }
         50% { opacity: 0.7; transform: scale(1.1); }
         100% { opacity: 1; transform: scale(1); }
         }
         /* Style for the custom modal start */
         .cm-modal-overlay {
         display: none;
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background-color: rgba(0, 0, 0, 0.7); /* Darker background */
         z-index: 100000;
         }
         .cm-modal-content {
         position: absolute;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         background-color: #fff; /* Lighter background */
         padding: 30px;
         border-radius: 12px;
         box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); /* Softer shadow */
         text-align: center;
         width: 320px;
         max-width: 90%; /* Responsive size */
         font-family: Arial, sans-serif;
         }
         .cm-modal-content h3 {
         margin-bottom: 15px;
         font-size: 18px;
         color: #333;
         }
         .cm-modal-content input, .cm-modal-content select {
         width: 100%;
         padding: 12px;
         margin-top: 10px;
         border: 2px solid #ddd;
         border-radius: 8px;
         box-sizing: border-box;
         font-size: 16px;
         transition: border 0.3s;
         }
         .cm-modal-content input:focus, .cm-modal-content select:focus {
         border-color: #4CAF50; /* Focus state color */
         outline: none;
         }
         .cm-modal-content button {
         margin-top: 15px;
         padding: 12px 24px;
         background-color: #4CAF50; /* Green button */
         color: white;
         border: none;
         border-radius: 8px;
         cursor: pointer;
         font-size: 16px;
         transition: background-color 0.3s ease;
         }
         .cm-modal-content button:hover {
         background-color: #45a049; /* Darker green on hover */
         }
         .cm-modal-content button:focus {
         outline: none;
         }
         .cm-modal-content input::placeholder {
         color: #999; /* Placeholder color */
         }
         /* Style for the custom modal end */
         /* Success Overlay - Initially Hidden */
         .success-overlay {
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background-color: rgba(34, 139, 34, 1); 
         justify-content: center;
         align-items: center;
         display: none;
         opacity: 0;
         transition: visibility 0s, opacity 0.3s ease;
         z-index: 99999; /* Ensure it is above all other content */
         }
         .success-overlay.visible {
         display: flex;
         opacity: 1;
         }
         .success-message {
         font-size: 24px;
         color: white;
         font-weight: bold;
         text-align: center;
         padding: 20px;
         border: 2px solid white;
         border-radius: 10px;
         background-color: rgb(255, 255, 255)
         flex: 0 1 600px;
         max-width: 90%;
         /* Animation */
         animation: pulse 1.5s infinite;
         }
         /* Keyframes for Pulse Animation */
         @keyframes pulse {
         0% {
         transform: scale(1);
         opacity: 1;
         }
         50% {
         transform: scale(1.05);
         opacity: 0.9;
         }
         100% {
         transform: scale(1);
         opacity: 1;
         }
         }
      </style>
   </head>
   <body>
      <div class="container">
         <div class="header">
            <h1>Personality Test</h1>
            <p>Answer a few simple questions to know your personality type and get meaningful guidance. The more carefully you answer, the more accurate the results will be.</p>
         </div>
         <div class="question" id="question-container">
            <p id="question-text">जब आप थक जाते हो, तो क्या करना पसंद करते हो?</p>
         </div>
         <div class="options" id="options-container">
            <input type="radio" id="option1" name="option" value="अकेले बैठकर सोचते हो या कोई शांति वाला काम करते हो।" data-mapping="I">
            <label for="option1">अकेले बैठकर सोचते हो या कोई शांति वाला काम करते हो।</label>
            <input type="radio" id="option2" name="option" value="दोस्तों से बात करते हो या कुछ मजेदार करते हो।" data-mapping="E">
            <label for="option2">दोस्तों से बात करते हो या कुछ मजेदार करते हो।</label>
         </div>
         <div class="button">
            <button id="next-question">Next</button>
         </div>
      </div>
      <!-- Pulsating overlay -->
      <div class="overlay" id="submission-overlay">
         <div class="overlay-text">Analysing personality...</div>
      </div>
      <!-- Analysis Successful Overlay -->
      <div class="success-overlay" id="success-overlay">
         <div class="success-message">We have analysed your personality. You will now be redirected to the results page.</div>
      </div>
      <!-- custom modal for collecting student details -->
      <div class="cm-modal-overlay" id="cmCustomModal">
         <div class="cm-modal-content">
            <h3>Please enter your details:</h3>
            <input type="text" id="cmNameInput" placeholder="Your full name...">
            <select id="cmGradeInput">
               <option value="" disabled selected>Select Class</option>
               <option value="I">I</option>
               <option value="II">II</option>
               <option value="III">III</option>
               <option value="IV">IV</option>
               <option value="V">V</option>
               <option value="VI">VI</option>
               <option value="VII">VII</option>
               <option value="VIII">VIII</option>
               <option value="IX">IX</option>
               <option value="X">X</option>
               <option value="XI">XI</option>
               <option value="XII">XII</option>
            </select>
            <select id="cmSectionInput">
               <option value="" disabled selected>Select Section</option>
               <option value="A1">A1</option>
               <option value="A2">A2</option>
               <option value="A3">A3</option>
               <option value="A4">A4</option>
            </select>
            <button id="cmSubmitName">Submit</button>
         </div>
      </div>
      <script>
         /* const questions = [
  "जब आप थक जाते हो, तो क्या करना पसंद करते हो?",
  "जब आप नए लोगों से मिलते हो, तो कैसा महसूस करते हो?",
  "आप चीज़ें कैसे समझते हो?",
  "आप बात करते समय किस पर ध्यान देते हो?",
  "जब आपको कोई फैसला लेना हो, तो आप कैसे सोचते हो?",
  "अगर झगड़ा हो जाए, तो आप क्या करोगे?",
  "आप अपना दिन कैसे प्लान करते हो?",
  "कोई काम करते समय आप कैसे शुरू करते हो?",
  "आपको क्या ज्यादा अच्छा लगता है?",
  "आप चीज़ें कैसे देखते हो?",
  "आप फैसले लेते समय क्या ध्यान रखते हो?",
  "अगर कोई काम अचानक बदल जाए, तो क्या करते हो?",
  "जब आपको कोई problem solve करनी हो, तो आप कैसे सोचते हो?",
  "जब आप अपने ideas बताते हो, तो कैसे बताते हो?",
  "जब आप किसी party में जाते हो, तो क्या करते हो?",
  "जब कोई काम प्लान करना हो, तो आप क्या करते हो?",
  "आप अपनी feelings कैसे handle करते हो?",
  "काम करते समय आप कैसे behave करते हो?",
  "आपको क्या inspire करता है?",
  "जब आप group project में हो, तो आप क्या करते हो?"
];

const optionsData = [
  ["अकेले बैठकर सोचते हो या कोई शांति वाला काम करते हो।", "दोस्तों से बात करते हो या कुछ मजेदार करते हो।"],
  ["पहले थोड़ा शांत रहते हो।", "तुरंत उनसे बात करने लगते हो।"],
  ["जो साफ और सच्चा दिखता है, उस पर भरोसा करते हो।", "नई और अलग बातें सोचने में मजा आता है।"],
  ["छोटे-छोटे facts और details पर।", "बड़ी बातें और future के ideas पर।"],
  ["दिमाग से सोचते हो कि क्या सही है।", "दिल से सोचते हो कि दूसरों को अच्छा लगे।"],
  ["जो सही है, वही कहोगे, भले किसी को बुरा लगे।", "सबको खुश रखने की कोशिश करोगे।"],
  ["पहले से plan बनाकर सब कुछ ठीक से करते हो।", "बिना plan के, जो हो रहा है वही करते हो।"],
  ["सब सोच-समझकर काम शुरू करते हो।", "पहले शुरू करते हो और फिर धीरे-धीरे समझते हो।"],
  ["अकेले रहकर सोचने का समय।", "दोस्तों के साथ बात करना और मजा करना।"],
  ["जो अभी है और जो दिखता है।", "जो हो सकता है और जो अलग लगता है।"],
  ["जो सही और तर्कसंगत (logical) हो।", "जो सबकी feelings का ख्याल रखे।"],
  ["परेशान हो जाते हो और पुराने plan पर रहना पसंद करते हो।", "जल्दी से नए तरीके में ढल जाते हो।"],
  ["पुराने तरीके अपनाते हो।", "नए और creative तरीके ढूंढते हो।"],
  ["सीधे और simple तरीके से।", "imagination के साथ और अलग examples देकर।"],
  ["चुपचाप बैठकर सबको देखते हो।", "सबसे मिलते हो और बातें करते हो।"],
  ["पहले से सब fix करते हो।", "लास्ट टाइम तक flexible रहते हो।"],
  ["अपनी feelings छुपा लेते हो और facts पर ध्यान देते हो।", "अपनी feelings दूसरों के साथ share करते हो।"],
  ["समय पर और धीरे-धीरे काम पूरा करते हो।", "काम late करते हो, लेकिन जल्दी-जल्दी खत्म कर लेते हो।"],
  ["छोटे और practical goals।", "बड़े और नए ideas।"],
  ["सब organize करते हो और सबकुछ ठीक रखते हो।", "नए और fun ideas देते हो।"]
];

const mappings = [
  ["I", "E"],
  ["I", "E"],
  ["S", "N"],
  ["S", "N"],
  ["T", "F"],
  ["T", "F"],
  ["J", "P"],
  ["J", "P"],
  ["I", "E"],
  ["S", "N"],
  ["T", "F"],
  ["J", "P"],
  ["S", "N"],
  ["S", "N"],
  ["I", "E"],
  ["J", "P"],
  ["T", "F"],
  ["J", "P"],
  ["S", "N"],
  ["J", "P"]
];  */

const questions = [
  "जब आप थक जाते हो, तो क्या करना पसंद करते हो?",  
  "जब आप नए दोस्तों से मिलते हो, तो कैसा महसूस करते हो?",  
  "जब आपको कुछ नया सीखना हो, तो कैसे समझते हो?",  
  "जब कोई चीज़ देखते हो, तो किस पर ध्यान देते हो?",  
  "अगर आपको कोई फैसला लेना हो, तो कैसे सोचते हो?",  
  "अगर कोई दोस्त उदास हो, तो आप क्या करोगे?",  
  "जब आपको स्कूल का होमवर्क करना हो, तो कैसे करते हो?",  
  "जब आपको कोई नया गेम खेलना हो, तो कैसे शुरू करते हो?",  
  "आपको क्या ज्यादा अच्छा लगता है?",  
  "आप अपने आसपास की चीज़ों को कैसे देखते हो?",  
  "जब आप किसी से झगड़ते हो, तो कैसे फैसला लेते हो?",  
  "अगर अचानक प्लान बदल जाए, तो आप क्या करोगे?",  
  "अगर टीचर आपको कोई प्रॉब्लम सॉल्व करने को कहे, तो आप कैसे सोचोगे?",  
  "जब आप अपनी बातें किसी को समझाते हो, तो कैसे करते हो?",  
  "जब आप किसी पार्टी में जाते हो, तो क्या करते हो?",  
  "अगर आपको एक दिन का टाइमटेबल बनाना हो, तो कैसे बनाओगे?",  
  "अगर आपको कुछ अच्छा या बुरा लगे, तो क्या करोगे?",  
  "जब आपको कोई काम करना हो, तो कैसे करोगे?",  
  "आपको कौन सी चीज़ ज्यादा पसंद है?",  
  "अगर आपको किसी ग्रुप में काम करने को कहा जाए, तो आप क्या करोगे?"  
];

const optionsData = [
  ["अकेले बैठकर आराम करूँगा।", "दोस्तों से मिलकर मज़ा करूँगा।"],  
  ["पहले थोड़ा शांत रहूँगा।", "जल्दी से दोस्ती कर लूँगा।"],  
  ["जो साफ दिखता है, उसे मानता हूँ।", "नए और अजीब तरीके से सोचता हूँ।"],  
  ["छोटी-छोटी चीज़ों और details पर ध्यान देता हूँ।", "बड़ी बातें और नए ideas सोचता हूँ।"],  
  ["जो सही लगे, वह करता हूँ।", "जो लोगों को अच्छा लगे, वह करता हूँ।"],  
  ["सच बोलूँगा, चाहे दोस्त नाराज हो जाए।", "उसका दिल रखने के लिए अच्छा बोलूँगा।"],  
  ["पहले से plan बनाकर धीरे-धीरे करता हूँ।", "बिना सोचे बस शुरू कर देता हूँ।"],  
  ["पहले सारे rules समझकर खेलता हूँ।", "पहले खेलता हूँ, फिर धीरे-धीरे सीखता हूँ।"],  
  ["अकेले बैठकर सोचने का समय।", "दोस्तों से बातें करना और हँसना।"],  
  ["जो अभी दिख रहा है, उसे देखता हूँ।", "जो हो सकता है, उसकी कल्पना करता हूँ।"],  
  ["जो सही और तर्कसंगत (logical) हो।", "जो सबकी feelings का ख्याल रखे।"],  
  ["थोड़ा परेशान हो जाता हूँ और पुराने plan पर रहना पसंद करता हूँ।", "मस्ती में नए तरीके अपनाने को तैयार रहता हूँ।"],  
  ["पहले से सिखाए गए तरीके अपनाता हूँ।", "खुद के नए और मज़ेदार तरीके ढूँढता हूँ।"],  
  ["साधारण शब्दों में समझाता हूँ।", "कहानी बनाकर और examples देकर समझाता हूँ।"],  
  ["चुपचाप बैठकर देखता हूँ।", "सबसे मिलता हूँ और बातें करता हूँ।"],  
  ["पहले से सब fix कर लेता हूँ।", "लास्ट टाइम तक flexible रहता हूँ।"],  
  ["अपनी feelings अंदर रखता हूँ।", "अपनी feelings दूसरों को बताता हूँ।"],  
  ["धीरे-धीरे पूरा करता हूँ।", "लेट करता हूँ, लेकिन जल्दी-जल्दी खत्म करता हूँ।"],  
  ["छोटे और practical goals पसंद हैं।", "बड़े और नए ideas अच्छे लगते हैं।"],  
  ["सबकुछ ठीक से organize करता हूँ।", "नए और मज़ेदार ideas देता हूँ।"]  
];

const mappings = [
  ["I", "E"],  
  ["I", "E"],  
  ["S", "N"],  
  ["S", "N"],  
  ["T", "F"],  
  ["T", "F"],  
  ["J", "P"],  
  ["J", "P"],  
  ["I", "E"],  
  ["S", "N"],  
  ["T", "F"],  
  ["J", "P"],  
  ["S", "N"],  
  ["S", "N"],  
  ["I", "E"],  
  ["J", "P"],  
  ["T", "F"],  
  ["J", "P"],  
  ["S", "N"],  
  ["J", "P"]  
];
         
         let currentQuestionIndex = 0;
         const responses = [];
         const responseMappings = {'I': 0, 'E': 0,  'N': 0, 'S': 0, 'T': 0, 'F': 0, 'J': 0, 'P': 0};        
         let resultLink;
         
         const questionText = document.getElementById("question-text");
         const optionsContainer = document.getElementById("options-container");
         const overlay = document.getElementById("submission-overlay");
         const successOverlay = document.getElementById("success-overlay");
         
         document.getElementById("next-question").addEventListener("click", () => {
           // Get selected answer
           const selectedOption = document.querySelector('input[name="option"]:checked');
           if (selectedOption) {
             responses.push(selectedOption.value);
            responseMappings[selectedOption.dataset.mapping] += 1;
            
             // Move to next question
             currentQuestionIndex++;
             if (currentQuestionIndex < questions.length) {
               loadQuestion();
             } else {
               //submitFeedback();
               alert(JSON.stringify(responseMappings));
             }
           } else {
             alert("Please select an option.");
           }
         });
         
         function loadQuestion() {
           questionText.textContent = questions[currentQuestionIndex];
           const options = optionsData[currentQuestionIndex];
           const mapping = mappings[currentQuestionIndex];
           
           optionsContainer.innerHTML = '';
           options.forEach((option, index) => {
             const radioId = `option${index + 1}`;
             const radioInput = `<input type="radio" id="${radioId}" name="option" value="${option}" data-mapping="${mapping[index]}">`;
             const radioLabel = `<label for="${radioId}">${option}</label>`;
             optionsContainer.innerHTML += radioInput + radioLabel;
           });
         }
         
         function submitFeedback() {
           // Show the overlay
           overlay.classList.add('visible');
         
           const scriptURL = 'https://script.google.com/macros/s/AKfycbymkt6to6SQN6CydehpEDfDyuC43GVC5DgXdVOPb8BNzbMX8hDnbxXLO0HJSW5Zjin5KA/exec';
           const formData = new FormData();
           formData.append('responses', JSON.stringify(responses));
         
           fetch(scriptURL, { method: 'POST', body: formData, mode: 'no-cors' })
             .then(() => {
               successOverlay.classList.add("visible");
               setTimeout(function() {
         window.location.href = resultLink;
         }, 2000); 
             })
             .catch(() => {
               alert('Error submitting feedback!');
             })
             .finally(() => {
               // Hide the overlay once submission is complete
               overlay.classList.remove('visible');
             });
         }
         
           // Function to create and display custom prompt dialog
           function customPrompt() {
               return new Promise((resolve) => {
                   const modal = document.getElementById('cmCustomModal');
                   const nameInput = document.getElementById('cmNameInput');
                   const gradeInput = document.getElementById('cmGradeInput');
                   const sectionInput = document.getElementById('cmSectionInput');
                   const submitButton = document.getElementById('cmSubmitName');
         
                   // Display the modal
                   modal.style.display = 'block';
         
                   // Focus on the input field when the modal is shown
                   nameInput.focus();
         
                   // Event listener for the submit button
                   submitButton.addEventListener('click', function() {
                       const name = capitalizeFirstLetter(nameInput.value.trim());
                       const grade = gradeInput.value;
                       const section = sectionInput.value;
         
                       if (name && grade && section) {
         
         // check if name is spammy
         if(!isValidName(name)) {
         alert('It looks like a spammy name. Please enter a valid name.');
         } else {
         
                           // Hide the modal and resolve the promise with the entered name, grade, and section
                           modal.style.display = 'none';
                           resolve({ name, grade, section });
         }
                       } else {
                           alert('Please fill all fields.');
                       }
                   });
               });
           }
         
         // function to capitalize first letter of each word
         function capitalizeFirstLetter(string) {
           return string
               .toLowerCase() // Convert the entire string to lowercase
               .split(' ')    // Split the string into an array of words
               .map(word => word.charAt(0).toUpperCase() + word.slice(1)) // Capitalize the first letter of each word
               .join(' ');    // Join the array of words back into a single string
         }
         
         // function to get student details through custom prompt
         async function getStudentDetails() {
           // open custom prompt
           let studentDetails = await customPrompt();
         
           // set timestamp
           let timestamp = new Date().toLocaleString("en-IN", {
             timeZone: "Asia/Kolkata",
             day: 'numeric',
             month: 'long',
             year: 'numeric',
             hour: 'numeric',
             minute: 'numeric',
             hour12: true
           });
         
           // push the details in the responses array
           responses.push(studentDetails.name, studentDetails.grade, studentDetails.section, timestamp);
         
         // create result link
         resultLink = `https://sourabhsuneja.github.io/academic-resources/favourite-student-certificate.html?name=${encodeURIComponent(studentDetails.name + ', ' + studentDetails.grade + '-' + studentDetails.section)}`;
         }
         
         // function to identify possibly spammy names
         function isValidName(inputName) {
           // Trim the input to remove leading and trailing spaces
           inputName = inputName.trim();
         
           // Basic check: length should be reasonable (between 3 and 60 characters)
           if (inputName.length < 3 || inputName.length > 60) {
               return false;
           }
         
           // Check for repeating characters like "aaaa" or "1111"
           if (/(\w)\1{3,}/.test(inputName)) {
               return false;
           }
         
           // Check for too many digits or symbols (considered spam)
           if (/[^a-zA-Z\s]/.test(inputName)) {
               return false;
           }
         
           // Check if there are too many consonants in a row (likely spam)
           if (/[bcdfghjklmnpqrstvwxyz]{5,}/i.test(inputName)) {
               return false;
           }
         
           // Check for a good mix of vowels and consonants (names should have vowels)
           let vowels = inputName.match(/[aeiou]/gi) || [];
           let consonants = inputName.match(/[bcdfghjklmnpqrstvwxyz]/gi) || [];
           if (vowels.length === 0 || consonants.length === 0 || consonants.length / vowels.length > 5) {
               return false;
           }
         
           // If all checks pass, consider it a valid name
           return true;
         }
         
         // Call the function to execute the code
         getStudentDetails();
         
      </script>
   </body>
</html>

